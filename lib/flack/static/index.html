<!doctype html>

<html>

  <head>

    <title>flack</title>

    <link rel="stylesheet" href="flack.css" type="text/css" />

    <script src="flack.js"></script>
    <script src="h-1.2.0-52b5a8a.min.js"></script>
  </head>

  <body>

    <script>
      var templates = {};
    </script>

    <h1>flack</h1>

    <div id="flash-success" class="flash"></div>
    <div id="flash-warning" class="flash"></div>
    <div id="flash-error" class="flash"></div>

    <h2>executions</h2>

    <table id="executions">
      <thead>
        <tr>
          <th>exid</th>
          <th>started</th>
          <th class="nodes">nodes</th>
          <th><!-- actions --></th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>

    <script>
      templates.noExecutions = H.makeTemplate(function() {
        return tr('.no-executions',
          td('Found no executions', { colspan: 4 }));
      });
      templates.execution = H.makeTemplate(function(e) {
        return tr('.execution',
          td('.exid', e.exid),
          td('.started', e.data.start),
          td('.nodes', e.nodeCount),
          td('.actions', input({ type: 'submit', value: 'Cancel' })));
      });
    </script>

    <h2>launch</h2>

    <form id="launch">
      <div>
        <label>
          <span>point</span>
          <input type="text" name="point" value="launch" />
        </label>
      </div>
      <div>
        <label>
          <span>domain</span>
          <input type="text" name="domain" value="org.example" />
        </label>
      </div>
      <div>
        <label>
          <span>tree/flow</span>
          <textarea name="tree" autocomplete="off">
sequence
  alpha _
  bravo _
          </textarea>
        </label>
      </div>
      <div>
        <input type="submit" name="launch" value="Launch a new execution" />
          <!-- see flack.js Flack/launchSubmit() for the launch POST request -->
      </div>
    </form>

    <!-- scripts -->

    <script>
      H.onDocumentReady(Flack.init);
    </script>

  </body>
</html>

